<!-- Breadcrumb -->
<ol class="breadcrumb">
  <li class="breadcrumb-item active" aria-current="page">エリア管理</li>
</ol>

<!-- Flash message -->
<%= render "layouts/flash_message" %>

<!-- Top link -->
<section class="top-link">
  <%= link_to '新規追加', new_area_path %>
  <%= link_to '一括インポート', import_areas_path %>
</section>

<!-- Search form -->
<section class="search-form">
  <%= search_form_for(@q, url: areas_path, method: :get) do |f| %>

    <div class="form-group">
      <%= f.label :地方 %>
      <%= f.collection_select :region_id_eq, Region.all, :id, :name,
        {include_blank: ""}, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :県 %>
      <%= render 'search_prefecture', region_id: Region.third.id %>
    </div>

    <div class="form-group">
      <%= f.label :エリア %>
      <%= f.text_field :name_cont, class: "form-control" %>
    </div>

    <div class="actions">
      <%= button_tag type: :submit, name: nil, class: "btn btn-icon btn-outline-primary" do %>
        <i class="material-icons">search</i>
        Search
      <% end %>
    </div>

  <% end %>
</section>

<!-- Pagination -->
<section class="page-pagination">
  <%= paginate @areas %>
</section>

<table class="table table-list ">
  <thead>
    <tr>
      <th>地方</th>
      <th>県</th>
      <th>エリア</th>
    </tr>
  </thead>
  <% @areas.each do |area| %>
    <tbody>
      <tr>
        <td><%= area.region.name %> </td>
        <td><%= area.prefecture.name %> </td>
        <td><%= area.name %> </td>
        <td class="edit"><%= link_to '編集', edit_area_path(area), class: "btn btn-sm btn-rounded btn-outline-primary" %></td>
        <td class="delete">
          <%= render "shared/modal_destroy", object_name: "#{area.name}", object: area,
            path: area_path(area) %>
        </td>
      </tr>
    </tbody>
  <% end %>
</table>
